appId: com.example.trend_sdet
name: "Feature: PDP Favorites and Share"
tags:
  - feature
  - pdp
---
- runFlow: ../subflows/launch_app_clean.yaml

# Wait for content
- extendedWaitUntil:
    visible:
      id: "home_content"
    timeout: 15000

# Open first product
- runFlow: ../subflows/open_first_product.yaml

# Assert favorite and share buttons exist
- extendedWaitUntil:
    visible:
      id: "detail_favorite_button"
    timeout: 10000
- assertVisible:
    id: "detail_share_button"

# Tap favorite button to add to favorites
- tapOn:
    id: "detail_favorite_button"

# Go back to home
- tapOn:
    id: "detail_back_button"
- extendedWaitUntil:
    visible:
      id: "home_screen"
    timeout: 10000

# Navigate to Favorites tab
- runFlow: ../subflows/navigate_to_favorites.yaml

# Favorites grid should be visible (not empty state)
- extendedWaitUntil:
    visible:
      id: "favorites_product_grid"
    timeout: 10000
